{"version":3,"file":"frost-ui-sortable.js","sources":["../src/sortable.js","../src/prototype/events.js","../src/prototype/helpers.js","../src/index.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { BaseComponent } from '@fr0st/ui';\n\n/**\n * Sortable Class\n * @class\n */\nexport default class Sortable extends BaseComponent {\n    /**\n     * New Sortable constructor.\n     * @param {HTMLElement} node The input node.\n     * @param {object} [options] The options to create the Sortable with.\n     */\n    constructor(node, options) {\n        super(node, options);\n\n        this._selector = this._options.items;\n        if (this._options.handle) {\n            this._selector += ' ' + this._options.handle;\n        }\n\n        this._enabled = !this._options.disabled;\n\n        this._refreshCursors();\n        this._events();\n    }\n\n    /**\n     * Disable the Sortable.\n     */\n    disable() {\n        this._enabled = false;\n    }\n\n    /**\n     * Dispose the Sortable.\n     */\n    dispose() {\n        $.removeEventDelegate(this._node, 'mousedown.ui.sortable touchstart.ui.sortable');\n        $.removeEvent(this._node, 'receive.ui.sortable');\n\n        this._target = null;\n        this._currentSortable = null;\n\n        super.dispose();\n    }\n\n    /**\n     * Enable the Sortable.\n     */\n    enable() {\n        this._enabled = true;\n    }\n\n    /**\n     * Get the Sortable item elements.\n     * @return {array} The Sortable item elements.\n     */\n    items() {\n        return $.find(this._options.items, this._node);\n    }\n}\n","import $ from '@fr0st/query';\nimport { getPosition } from '@fr0st/ui';\n\n/**\n * Attach events for the Sortable.\n */\nexport function _events() {\n    const downEvent = (e) => {\n        if (\n            e.button ||\n            !this._enabled ||\n            $.is(e.currentTarget, this._options.cancel) ||\n            $.getDataset(this._node, 'uiDragging')\n        ) {\n            return false;\n        }\n\n        if (e.type === 'mousedown') {\n            e.preventDefault();\n        }\n\n        this._target = this._options.handle ?\n            this.items().find((node) => $.hasDescendent(node, e.currentTarget)) :\n            e.currentTarget;\n    };\n\n    const moveEvent = (e) => {\n        this._pos = getPosition(e);\n\n        if (!$.getDataset(this._node, 'uiDragging')) {\n            $.setDataset(this._node, { uiDragging: true });\n\n            this._startIndex = $.index(this._target);\n            this._currentIndex = this._startIndex;\n\n            $.triggerEvent(this._node, 'sort.ui.sortable', {\n                detail: {\n                    target: this._target,\n                },\n            });\n\n            if (this._options.helperClass) {\n                $.addClass(this._target, this._options.helperClass);\n            }\n\n            this._currentSortable = this._node;\n\n            if (this._options.scroll) {\n                this._checkScroll();\n            }\n        }\n\n        let nearestSortable = this._node;\n\n        if (this._options.connectWith) {\n            const connected = $.find(this._options.connectWith)\n                .filter((node) => {\n                    const sortable = this.constructor.init(node);\n\n                    return sortable._options.dropOnEmpty || sortable.items().length;\n                });\n\n            if (connected.length) {\n                nearestSortable = $.nearestTo([this._node, ...connected], this._pos.x, this._pos.y, { offset: true });\n            }\n        }\n\n        const nearestItems = $.isSame(this._node, nearestSortable) ?\n            this.items() :\n            this.constructor.init(nearestSortable).items();\n\n        const nearestItem = $.nearestTo(nearestItems, this._pos.x, this._pos.y, { offset: true });\n\n        if (!nearestItem) {\n            return;\n        }\n\n        this._updateTarget(nearestItem, this._pos.x, this._pos.y);\n\n        const newIndex = $.index(this._target);\n\n        if (!$.isSame(nearestSortable, this._currentSortable)) {\n            $.triggerEvent(this._currentSortable, 'send.ui.sortable', {\n                detail: {\n                    target: this._target,\n                },\n            });\n\n            $.triggerEvent(nearestSortable, 'receive.ui.sortable', {\n                detail: {\n                    target: this._target,\n                },\n            });\n        } else if (this._currentIndex !== newIndex) {\n            $.triggerEvent(nearestSortable, 'sorting.ui.sortable', {\n                detail: {\n                    target: this._target,\n                },\n            });\n        }\n\n        this._currentIndex = newIndex;\n        this._currentSortable = nearestSortable;\n    };\n\n    const upEvent = (e) => {\n        if (!$.getDataset(this._node, 'uiDragging')) {\n            this._target = null;\n            return;\n        }\n\n        if (e.type === 'mouseup') {\n            e.preventDefault();\n        }\n\n        $.triggerEvent(this._currentSortable, 'sorted.ui.sortable', {\n            detail: {\n                target: this._target,\n            },\n        });\n\n        if (this._options.helperClass) {\n            $.removeClass(this._target, this._options.helperClass);\n        }\n\n        if (this._currentIndex !== this._startIndex || !$.isSame(this._currentSortable, this._node)) {\n            $.triggerEvent(this._currentSortable, 'update.ui.sortable', {\n                detail: {\n                    target: this._target,\n                },\n            });\n        }\n\n        $.removeDataset(this._node, 'uiDragging');\n\n        if (this._checkScrollTimer) {\n            clearTimeout(this._checkScrollTimer);\n            this._checkScrollTimer = null;\n        }\n\n        this._target = null;\n        this._currentSortable = null;\n        this._currentIndex = null;\n        this._startIndex = null;\n    };\n\n    const dragEvent = $.mouseDragFactory(downEvent, moveEvent, upEvent);\n\n    $.addEventDelegate(this._node, 'mousedown.ui.sortable touchstart.ui.sortable', this._selector, dragEvent);\n\n    $.addEvent(this._node, 'receive.ui.sortable', (_) => {\n        this._refreshCursors();\n    });\n};\n","import $ from '@fr0st/query';\n\n/**\n * Check for window scroll.\n */\nexport function _checkScroll() {\n    $.hide(this._target);\n\n    const originalX = $.getScrollX(window);\n    const originalY = $.getScrollY(window);\n\n    let offsetX = originalX;\n    let offsetY = originalY;\n\n    if (this._pos.y < originalY + this._options.scrollSensitivity) {\n        offsetY = Math.max(0, originalY - this._options.scrollSpeed);\n    } else if (this._pos.y > originalY + $.height(window) - this._options.scrollSensitivity) {\n        const docHeight = $.height(document, { boxSize: $.SCROLL_BOX });\n        offsetY = Math.min(docHeight, originalY + this._options.scrollSpeed);\n    }\n\n    if (this._pos.x < originalX + this._options.scrollSensitivity) {\n        offsetX = Math.max(0, originalX - this._options.scrollSpeed);\n    } else if (this._pos.x > originalX + $.width(window) - this._options.scrollSensitivity) {\n        const docWidth = $.width(document, { boxSize: $.SCROLL_BOX });\n        offsetX = Math.min(docWidth, originalX + this._options.scrollSpeed);\n    }\n\n    if (offsetX !== originalX || offsetY !== originalY) {\n        $.setStyle(':root', { scrollBehavior: 'initial' });\n        $.setScroll(document, offsetX, offsetY);\n        $.setStyle(':root', { scrollBehavior: '' });\n\n        this._pos.x += offsetX - originalX;\n        this._pos.y += offsetY - originalY;\n    }\n\n    $.show(this._target);\n\n    this._checkScrollTimer = setTimeout((_) => {\n        this._checkScroll();\n    }, 0);\n};\n\n/**\n * Refresh Sortable item cursors.\n */\nexport function _refreshCursors() {\n    const elements = $.find(this._selector, this._node);\n\n    $.setStyle(elements, { cursor: this._options.cursor });\n};\n\n/**\n * Update the target element.\n * @param {HTMLElement} nearestItem The current nearest item.\n * @param {number} x The mouse X position.\n * @param {number} y The mouse Y position.\n */\nexport function _updateTarget(nearestItem, x, y) {\n    const nearestCenter = $.center(nearestItem, { offset: true });\n    const targetCenter = $.center(this._target, { offset: true });\n\n    let method;\n    if (this._options.axis === 'y' || nearestCenter.x === targetCenter.x) {\n        method = y < nearestCenter.y ?\n            'before' :\n            'after';\n    } else if (this._options.axis === 'x' || nearestCenter.y === targetCenter.y) {\n        method = x < nearestCenter.x ?\n            'before' :\n            'after';\n    } else {\n        method = x < nearestCenter.x && y < nearestCenter.y ?\n            'before' :\n            'after';\n    }\n\n    $[method](nearestItem, this._target);\n};\n","import { initComponent } from '@fr0st/ui';\nimport Sortable from './sortable.js';\nimport { _events } from './prototype/events.js';\nimport { _checkScroll, _refreshCursors, _updateTarget } from './prototype/helpers.js';\n\n// Sortable default options\nSortable.defaults = {\n    appendTo: 'body',\n    axis: null,\n    cancel: 'input, textarea, button, select, option',\n    connectWith: null,\n    cursor: 'auto',\n    disabled: false,\n    dropOnEmpty: true,\n    handle: null,\n    helperClass: 'bg-body-tertiary',\n    items: ':scope > li',\n    scroll: true,\n    scrollSensitivity: 20,\n    scrollSpeed: 5,\n};\n\n// Sortable prototype\nconst proto = Sortable.prototype;\n\nproto._checkScroll = _checkScroll;\nproto._events = _events;\nproto._refreshCursors = _refreshCursors;\nproto._updateTarget = _updateTarget;\n\n// Sortable init\ninitComponent('sortable', Sortable);\n\nexport default Sortable;\n"],"names":["BaseComponent","getPosition","initComponent"],"mappings":"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"}